(this.webpackJsonphive=this.webpackJsonphive||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(2),s=n.n(c),i=n(22),r=n.n(i),o=(n(33),n(12)),l=(n(34),n(27)),d=n(16),u=n(7),b=(n(20),n(19),n(39)),j=n(40),h=n(23);u.a.apps.length||u.a.initializeApp({apiKey:"AIzaSyDTWBteXw0tA7hZ0OQCJmzl8q_6lcK18Jc",authDomain:"hive-db3b9.firebaseapp.com",projectId:"hive-db3b9",storageBucket:"hive-db3b9.appspot.com",messagingSenderId:"306107300911",appId:"1:306107300911:web:42ab214d27d522768bdada",measurementId:"G-H9W71X85WS"});var m=u.a.auth(),p=function(){return Object(a.jsx)(b.a,{className:"col-sm-6 signIn",children:Object(a.jsx)("div",{className:"rounded bg-dark shadow-lg",children:Object(a.jsxs)(j.a,{className:"col",children:[Object(a.jsx)("div",{className:"row justify-content-center text-white rounded-top",style:{backgroundColor:"black"},children:Object(a.jsx)("h1",{className:"",children:" log in "})}),Object(a.jsx)(j.a,{className:"d-flex justify-content-center m-0 p-5",children:Object(a.jsxs)("button",{onClick:function(){var e=new u.a.auth.GoogleAuthProvider;m.signInWithPopup(e)},className:"btn btn-primary ml-2 mb-2 text-center",children:[Object(a.jsx)(h.a,{})," Sign in with Google"]})})]})})})},x=n(21),v=n.n(x),O=n(24),g=n(25),f=u.a.auth(),w=u.a.firestore();function N(e){var t=e.msgcontent,n=t.text,c=t.uid,s=t.name,i=c===f.currentUser.uid?"sent":"received",r=c===f.currentUser.uid?"you":"theOthers";return Object(a.jsx)("div",{className:" msgcontent m-0 ".concat(i),children:Object(a.jsxs)("div",{className:" msgcontent ".concat(r),children:[Object(a.jsx)("div",{className:"font-weight-bold font-italic",children:s}),Object(a.jsx)("p",{style:{marginBottom:"0px",textAlign:"center"},children:n})]})})}var y=function(){var e=Object(c.useRef)(),t=w.collection("Messages"),n=t.orderBy("createdAt","desc").limit(25),s=Object(g.a)(n,{idField:"id"}),i=Object(o.a)(s,1)[0],r=Object(c.useState)(""),l=Object(o.a)(r,2),b=l[0],j=l[1],h=function(){var n=Object(O.a)(v.a.mark((function n(a){var c,s,i,r,o;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.stopPropagation(),a.preventDefault(),null!=(c=f.currentUser)&&(s=c.uid,i=c.photoURL,r=c.displayName,o=c.email),""===b.trim()){n.next=9;break}return n.next=7,t.add({text:b,createdAt:u.a.firestore.FieldValue.serverTimestamp(),uid:s,photoURL:i,name:r,email:o});case 7:j(""),e.current.scrollIntoView({behavior:"smooth"});case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return i&&i.reverse(),Object(a.jsxs)("div",{className:"col-sm-12  p-0",style:{maxHeight:"90vh",minHeight:"87vh"},children:[Object(a.jsxs)("main",{className:"tchatbox",children:[i&&i.map((function(e){return Object(a.jsx)(N,{msgcontent:e},e.id)})),Object(a.jsx)("div",{ref:e})]}),Object(a.jsx)("div",{className:"row formex",children:Object(a.jsxs)("form",{onSubmit:h,className:"pt-4",children:[Object(a.jsx)("input",{type:"text",placeholder:"enter a message",className:"formeiks ml-1",value:b,style:{outline:0},onChange:function(e){return j(e.target.value)}}),Object(a.jsx)("button",{type:"submit",className:"send ml-3",style:{outline:0},children:Object(a.jsx)(d.b,{})})]})})]})},I=n(26);u.a.apps.length||u.a.initializeApp({apiKey:"AIzaSyDTWBteXw0tA7hZ0OQCJmzl8q_6lcK18Jc",authDomain:"hive-db3b9.firebaseapp.com",projectId:"hive-db3b9",storageBucket:"hive-db3b9.appspot.com",messagingSenderId:"306107300911",appId:"1:306107300911:web:42ab214d27d522768bdada",measurementId:"G-H9W71X85WS"});var k=u.a.auth();function S(){return k.currentUser&&Object(a.jsxs)("button",{onClick:function(){return k.signOut()},className:"m-2 button ",children:[Object(a.jsx)(d.a,{})," Sign Out"]})}var A=function(){var e=Object(I.a)(k),t=Object(o.a)(e,1)[0];return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("header",{className:"header d-flex justify-content-between flex-row shadow-lg",children:[Object(a.jsx)(S,{}),Object(a.jsxs)("h1",{className:"text-white",children:["Hive ",Object(a.jsx)("small",{className:"text-muted version",children:"(v.1)"})," "]}),Object(a.jsx)("h1",{className:"text-white",children:Object(a.jsx)(l.a,{})})]}),Object(a.jsx)("div",{className:"h-100",style:{},children:t?Object(a.jsx)(y,{}):Object(a.jsx)(p,{})}),Object(a.jsx)("footer",{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),B()}},[[37,1,2]]]);
//# sourceMappingURL=main.a5250ab8.chunk.js.map